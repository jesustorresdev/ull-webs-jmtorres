<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">




<title>Trabajos finales – Jesús Torres</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-listing/list.min.js"></script>
<script src="site_libs/quarto-listing/quarto-listing.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>
<script>

  window.document.addEventListener("DOMContentLoaded", function (_event) {
    const listingTargetEl = window.document.querySelector('#listing-tfc-listing .list');
    if (!listingTargetEl) {
      // No listing discovered, do not attach.
      return; 
    }

    const options = {
      valueNames: ['listing-title','listing-author','listing-author-portfolio','listing-year','listing-categories','listing-thumbnail','listing-description','listing-linkedin',{ data: ['index'] },{ data: ['categories'] },{ data: ['listing-year-sort'] }],
      
      searchColumns: ["listing-title","listing-author","listing-author-portfolio","listing-year","listing-categories","listing-thumbnail","listing-description","listing-linkedin"],
    };

    window['quarto-listings'] = window['quarto-listings'] || {};
    window['quarto-listings']['listing-tfc-listing'] = new List('listing-tfc-listing', options);

    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  });

  window.addEventListener('hashchange',() => {
    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  })
  </script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Jesús Torres</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Buscar"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Navegación de palanca" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Inicio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://jesustorres.es/"> <i class="bi bi-box-arrow-up-right" role="img">
</i> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./ssoo.html"> 
<span class="menu-text">SisOp.</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./tutorias.html"> 
<span class="menu-text">Tutorías</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./tfc.html" aria-current="page"> 
<span class="menu-text">TFG/TFM</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    <h5 class="quarto-listing-category-title">Categorías</h5><div class="quarto-listing-category category-default"><div class="category" data-category="">Todas <span class="quarto-category-count">(7)</span></div><div class="category" data-category="Datos">Datos <span class="quarto-category-count">(1)</span></div><div class="category" data-category="Salud">Salud <span class="quarto-category-count">(1)</span></div><div class="category" data-category="TFG">TFG <span class="quarto-category-count">(6)</span></div><div class="category" data-category="TFM">TFM <span class="quarto-category-count">(1)</span></div><div class="category" data-category="Videojuegos">Videojuegos <span class="quarto-category-count">(6)</span></div></div></div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Trabajos finales</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Esta es una selección de algunos trabajos finales de carrera tutorizados. Se pueden localizar fácilmente otros trabajos finales en la colección <i class="fa-solid fa-graduation-cap" aria-label="graduation-cap"></i><a href="https://riull.ull.es/xmlui/handle/915/488/discover?query=%22Jes%C3%BAs+Miguel+Torres%22&amp;submit=&amp;rpp=10&amp;sort_by=dc.date.issued_dt&amp;order=desc">docencia</a> del repositorio institucional de la Universidad de La Laguna.</p>
<div id="listing-tfc-listing" class="quarto-listing quarto-listing-container-custom">
<div class="listing-actions-group">
    <div class="input-group input-group-sm quarto-listing-filter">
      <span class="input-group-text"><i class="bi bi-search"></i></span>
      <input type="text" class="search form-control" placeholder="Filtro">
    </div>
</div>
<div class="list quaro-listing-default">
  
    <div class="quarto-post image-right" data-index="0" data-categories="TFM,Videojuegos" data-listing-year-sort="2024">
      
      <div class="thumbnail">
        
        <video autoplay="" muted="" loop="" preload="metadata">
          <source src="videos/tfc/magariños2024.webm#t=0.1" type="video/webm">
        </video>
        
      </div>
      
      <div class="body">
        
        <h3 class="no-anchor listing-title">Desarrollo de videojuegos serios para la rehabilitación de personas con daño cerebral</h3>
        
         
        <div class="listing-categories">
        
          <div class="listing-category" onclick="window.quartoListingCategory('TFM'); return false;">TFM</div>
        
          <div class="listing-category" onclick="window.quartoListingCategory('Videojuegos'); return false;">Videojuegos</div>
        
        </div>
         
        
        <div class="delink listing-description">Desarrollo de un videojuego controlado mediante <i>eye tracker</i> para
emplearlo en la rehabilitación de pacientes con movilidad reducida
ocasionada por una lesión cerebral.
</div>
        
      </div>
      <div class="metadata">
      <div class="listing-date">2024</div>
      <div class="listing-author">Juan Salvador Magariños Alba</div>
      
        <div class="listing-author-portfolio"><a href="https://sites.google.com/ull.edu.es/jsalvmaga-portfolio/masters-degrees-final-project">Portafolio</a></div>
      
      
      </div>
    </div>
  
    <div class="quarto-post image-right" data-index="1" data-categories="TFG,Videojuegos" data-listing-year-sort="2024">
      
      <div class="thumbnail">
        
        <video autoplay="" muted="" loop="" preload="metadata">
          <source src="videos/tfc/cruz2024.webm#t=0.1" type="video/webm">
        </video>
        
      </div>
      
      <div class="body">
        
        <h3 class="no-anchor listing-title">Generación procedural de planetoides en videojuegos</h3>
        
         
        <div class="listing-categories">
        
          <div class="listing-category" onclick="window.quartoListingCategory('TFG'); return false;">TFG</div>
        
          <div class="listing-category" onclick="window.quartoListingCategory('Videojuegos'); return false;">Videojuegos</div>
        
        </div>
         
        
        <div class="delink listing-description">Desarrollo de un algoritmo de generación procedural para crear planetoides en tres
dimensiones a gran escala. Para demostrar la viabilidad del algoritmo, se implementa
un prototipo de videojuego donde se genera un planetoide que el jugador puede explorar y
dónde puede recoger recursos.
</div>
        
      </div>
      <div class="metadata">
      <div class="listing-date">2024</div>
      <div class="listing-author">Ginés Cruz Chávez</div>
      
      
        <div class="listing-linkedin"><a href="http://linkedin.com/in/ginés-cruz-chávez-94ba87246">Linkedin</a></div>
      
      </div>
    </div>
  
    <div class="quarto-post image-right" data-index="2" data-categories="TFG,Videojuegos" data-listing-year-sort="2024">
      
      <div class="thumbnail">
        
        <img loading="lazy" src="images/tfc/diaz2024.png" class="thumbnail-image">
        
      </div>
      
      <div class="body">
        
        <h3 class="no-anchor listing-title">Generación procedural de contenido 2D en videojuegos</h3>
        
         
        <div class="listing-categories">
        
          <div class="listing-category" onclick="window.quartoListingCategory('TFG'); return false;">TFG</div>
        
          <div class="listing-category" onclick="window.quartoListingCategory('Videojuegos'); return false;">Videojuegos</div>
        
        </div>
         
        
        <div class="delink listing-description">Desarrollo de algoritmos para la generación de contenido 2D en videojuegos, utilizando el
motor Godot e incorporando métodos de generación de contenido procedural (PCG) para crear
el mapa del juego. Se han implementado técnicas como el diagrama de Voronoi y Random Walk
para crear un mapa de tipo «mazmorra» en el que el jugador puede moverse.
</div>
        
      </div>
      <div class="metadata">
      <div class="listing-date">2024</div>
      <div class="listing-author">Diego Díaz Morón</div>
      
      
        <div class="listing-linkedin"><a href="https://linkedin.com/in/diazmorondiego">Linkedin</a></div>
      
      </div>
    </div>
  
    <div class="quarto-post image-right" data-index="3" data-categories="TFG,Videojuegos" data-listing-year-sort="2024">
      
      <div class="thumbnail">
        
        <img loading="lazy" src="images/tfc/asrout2024.gif" class="thumbnail-image">
        
      </div>
      
      <div class="body">
        
        <h3 class="no-anchor listing-title">Deep Learning en videojuegos: Generación de animaciones naturales</h3>
        
         
        <div class="listing-categories">
        
          <div class="listing-category" onclick="window.quartoListingCategory('TFG'); return false;">TFG</div>
        
          <div class="listing-category" onclick="window.quartoListingCategory('Videojuegos'); return false;">Videojuegos</div>
        
        </div>
         
        
        <div class="delink listing-description">El objetivo de este trabajo es hacer una implementación de <i>motion matching</i> y
<i>learned motion matching</i> para reproducir animaciones naturales y realistas de
personajes virtuales en 3D en tiempo real, a partir de datos de <i>motion capture</i>,
en el motor Unity.
</div>
        
      </div>
      <div class="metadata">
      <div class="listing-date">2024</div>
      <div class="listing-author">Ayob Asrout Vargas</div>
      
      
      </div>
    </div>
  
    <div class="quarto-post image-right" data-index="4" data-categories="TFG,Videojuegos" data-listing-year-sort="2024">
      
      <div class="thumbnail">
        
        <video autoplay="" muted="" loop="" preload="metadata">
          <source src="videos/tfc/hernandez2024.webm#t=0.1" type="video/webm">
        </video>
        
      </div>
      
      <div class="body">
        
        <h3 class="no-anchor listing-title">Uso de herramientas IA y agentes inteligentes en videojuegos</h3>
        
         
        <div class="listing-categories">
        
          <div class="listing-category" onclick="window.quartoListingCategory('TFG'); return false;">TFG</div>
        
          <div class="listing-category" onclick="window.quartoListingCategory('Videojuegos'); return false;">Videojuegos</div>
        
        </div>
         
        
        <div class="delink listing-description">El objetivo de este trabajo es investigar y evaluar el uso de herramientas de IA para
en la creación de contenidos para videojuegos. Con estas herramientas se ha creado
un prototipo funcional con un agente capaz de ejecutar tareas concretas en el entorno del juego,
empleando técnicas de aprendizaje automático para optimizar su comportamiento.
</div>
        
      </div>
      <div class="metadata">
      <div class="listing-date">2024</div>
      <div class="listing-author">Antonio Felipe Hernández Hernández</div>
      
      
        <div class="listing-linkedin"><a href="https://linkedin.com/in/antonio-felipe-hern%C3%A1ndez-hern%C3%A1ndez-b37a142b9/">Linkedin</a></div>
      
      </div>
    </div>
  
    <div class="quarto-post image-right" data-index="5" data-categories="TFG,Datos,Salud" data-listing-year-sort="2024">
      
      <div class="thumbnail">
        
        <img loading="lazy" src="images/tfc/luis2024.png" class="thumbnail-image">
        
      </div>
      
      <div class="body">
        
        <h3 class="no-anchor listing-title">Seguimiento de actividad física en pacientes con EPOC mediante relojes inteligentes</h3>
        
         
        <div class="listing-categories">
        
          <div class="listing-category" onclick="window.quartoListingCategory('TFG'); return false;">TFG</div>
        
          <div class="listing-category" onclick="window.quartoListingCategory('Datos'); return false;">Datos</div>
        
          <div class="listing-category" onclick="window.quartoListingCategory('Salud'); return false;">Salud</div>
        
        </div>
         
        
        <div class="delink listing-description">Desarrollo de una aplicación para la recogida y análisis de datos de actividad física de pacientes con
enfermedad pulmonar obstructiva crónica (EPOC).
</div>
        
      </div>
      <div class="metadata">
      <div class="listing-date">2024</div>
      <div class="listing-author">Celeste Luis Díaz</div>
      
      
      </div>
    </div>
  
    <div class="quarto-post image-right" data-index="6" data-categories="TFG,Videojuegos" data-listing-year-sort="2024">
      
      <div class="thumbnail">
        
        <img loading="lazy" src="images/tfc/niebla2024.png" class="thumbnail-image">
        
      </div>
      
      <div class="body">
        
        <h3 class="no-anchor listing-title">Videojuego Roguelike con temática de juego de cartas</h3>
        
         
        <div class="listing-categories">
        
          <div class="listing-category" onclick="window.quartoListingCategory('TFG'); return false;">TFG</div>
        
          <div class="listing-category" onclick="window.quartoListingCategory('Videojuegos'); return false;">Videojuegos</div>
        
        </div>
         
        
        <div class="delink listing-description">Desarrollo de un videojuego con el motor Unity que incluye enfrentamientos inspirados en las mecánicas
del blackjack y del género <i>roguelike</i>. El jugador avanza a través de niveles que requieren el uso
de habilidades y conocimientos adquiridos en partidas anteriores para superar desafíos.
</div>
        
      </div>
      <div class="metadata">
      <div class="listing-date">2024</div>
      <div class="listing-author">Jorge Niebla Núñez</div>
      
      
        <div class="listing-linkedin"><a href="https://linkedin.com/in/jorge-niebla-n%C3%BA%C3%B1ez/">Linkedin</a></div>
      
      </div>
    </div>
  
</div>
<div class="listing-no-matching d-none">
No hay resultados
</div>
</div>




</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/jmtorres\.webs\.ull\.es\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>